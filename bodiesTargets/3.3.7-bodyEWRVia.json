{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "id": "3.3.7-bodyEWRVia.json",
    "assertionType": "may",
    "expectedResult": "valid",
    "onUnexpectedResult" : "passAndContinue",
    "errorMessage": "The description of an External Web Resource body may include via key with one or more values that are each of format uri.",    
    "title": "Implements **External Web Resource _via_ key** which has one or more values, each of which is a **string of format uri** - [model 3.3.7](https://www.w3.org/TR/annotation-model/#other-identities)",
    "description": "True when Annotation includes one or more External Web Resource bodies, one or more of which include via key with one or more values that are each of format uri. (Section 3.3.7)",
    "type": "object",
    "properties":
    {
        "body": 
        {
           "oneOf": [
                      { "allOf": 
                        [
                         { "$ref": "bodyTarget.json#/definitions/externalWebResourceDetected" },
                         { "$ref": "otherProperties.json#/definitions/viaValidIfPresent" },
                         { "required": ["via"] }
                         ]
                       },
                       { "not":
                         {
                           "items": 
                            { "not":
                               { "allOf": 
                                [
                                  { "$ref": "bodyTarget.json#/definitions/externalWebResourceDetected" },
                                  { "$ref": "otherProperties.json#/definitions/viaValidIfPresent" },
                                  { "required": ["via"] }
                                 ]
                               }
                             }     
                         }                          
                       }
                     ]                       
         }
     }
}