{
  "@context": "https://www.w3.org/ns/JSONtest-v1.jsonld",
  "name": "Annotation implements optional keys and meets optional key value constraints",
  "description": "Web Annotations: <ul> <li>Should include certain properties (keys)</li> <li>May include additional keys</li> <li>should have Annotation key values that conform to model recommended constraints</li> </ul> Note: failing an assertion indicates that a recommended or optional feature has not been implemented or has not been implemented correctly.",
  "testType": "manual",
  "ref": "https://www.w3.org/TR/annotation-model/#other-properties",
  "assertions": [
    "annotations/3.3.1-annotationSingleCreatorImplemented.json",
    "annotations/3.3.1-annotationCreatedImplemented.json",
    "annotations/3.3.5-annotationSingleMotivationImplemented.json",
    "annotations/3.2.5-bodyValueImplemented.json",
    "annotations/3.3.1-annotationGeneratedImplemented.json",
    "annotations/3.3.1-annotationModifiedImplemented.json",
    "annotations/3.3.3-annotationAudienceImplemented.json",
    "annotations/3.3.5-annotationMotivationImplemented.json",
    "annotations/3.3.6-annotationRightsImplemented.json",
    "annotations/3.3.7-annotationCanonicalImplemented.json",
    "annotations/3.3.7-annotationViaImplemented.json",
    "annotations/4.4-annotationStylesheetImplemented.json",
    [ 
      {
       "assertionFile": "annotations/3.1-bodyKeyFound.json",
       "onUnexpectedResult" : "passAndSkip"            
      },
        "annotations/bodiesTargets/3.2.1-bodySingleFormat.json",
        "annotations/bodiesTargets/3.2.1-bodySingleLanguage.json",
        "annotations/bodiesTargets/3.3.1-bodySingleCreator.json",
        "annotations/bodiesTargets/3.3.1-bodyCreated.json",
        "annotations/bodiesTargets/3.2.1-bodyFormat.json",
        "annotations/bodiesTargets/3.2.1-bodyLanguage.json",
        "annotations/bodiesTargets/3.2.2-bodyType.json",
        "annotations/bodiesTargets/3.2.1-bodyProcessingLanguage.json",
        "annotations/bodiesTargets/3.2.1-bodyTextDirection.json",
        "annotations/bodiesTargets/3.3.1-bodyModified.json",
        "annotations/bodiesTargets/3.3.3-bodyAudience.json",
        "annotations/bodiesTargets/3.3.4-bodyAccessibility.json",
        "annotations/bodiesTargets/3.3.5-bodyPurpose.json",
        "annotations/bodiesTargets/3.3.6-bodyRights.json",
        "annotations/bodiesTargets/3.3.7-bodyCanonical.json",
        "annotations/bodiesTargets/3.3.7-bodyVia.json",
        "annotations/bodiesTargets/3.2.1-bodyEWR.json",
        [
          {
           "assertionFile": "annotations/bodiesTargets/3.2.4-bodyETB.json",
           "onUnexpectedResult": "passAndSkip"
          },
          "annotations/bodiesTargets/3.2.4-bodyETBTypeTextualBody.json",
          "annotations/bodiesTargets/3.2.4-bodyETBTypeText.json"
        ],        
        [
          {
           "assertionFile": "annotations/bodiesTargets/4-bodyChoiceSetFound.json",
           "onUnexpectedResult" : "passAndSkip"            
          },
          "annotations/bodiesTargets/3.2.7-bodyChoice.json",
          "annotations/bodiesTargets/3.2.8-bodyList.json",
          "annotations/bodiesTargets/3.2.8-bodyComposite.json",
          "annotations/bodiesTargets/3.2.8-bodyIndependents.json"
        ]
      
    ],
    [
      {
       "$schema": "http://json-schema.org/draft-04/schema#",
       "assertionType": "may",
       "expectedResult": "valid",
       "onUnexpectedResult" : "passAndSkip",
       "errorMessage": "A Target may be an object or an array that includes objects (none found).",
       "title": "Implements object(s) as annotation **Target** [model 3.2](https://www.w3.org/TR/annotation-model/#bodies-and-targets)",
       "description": "True when Annotation includes one or more objects as Annotation Target. (Section 3.2)",
       "type": "object",
       "properties":
        {
         "target":   
          { "not": { "$ref": "id.json#/definitions/arraySingleStringUri" } }
        }
      },    
      "annotations/bodiesTargets/3.2.1-targSingleFormat.json",
      "annotations/bodiesTargets/3.2.1-targSingleLanguage.json",
      "annotations/bodiesTargets/3.3.1-targSingleCreator.json",
      "annotations/bodiesTargets/3.3.1-targCreated.json",
      "annotations/bodiesTargets/3.2.1-targFormat.json",
      "annotations/bodiesTargets/3.2.1-targLanguage.json",
      "annotations/bodiesTargets/3.2.2-targType.json",
      "annotations/bodiesTargets/3.2.1-targProcessingLanguage.json",
      "annotations/bodiesTargets/3.2.1-targTextDirection.json",
      "annotations/bodiesTargets/3.3.1-targModified.json",
      "annotations/bodiesTargets/3.3.3-targAudience.json",
      "annotations/bodiesTargets/3.3.4-targAccessibility.json",
      "annotations/bodiesTargets/3.3.5-targPurpose.json",
      "annotations/bodiesTargets/3.3.6-targRights.json",
      "annotations/bodiesTargets/3.3.7-targCanonical.json",
      "annotations/bodiesTargets/3.3.7-targVia.json",      
      "annotations/bodiesTargets/3.2.1-targEWR.json",
      [
        {
             "assertionFile": "annotations/bodiesTargets/4-targChoiceSetFound.json",
             "onUnexpectedResult" : "passAndSkip"            
        },
        "annotations/bodiesTargets/3.2.7-targChoice.json",
        "annotations/bodiesTargets/3.2.8-targList.json",
        "annotations/bodiesTargets/3.2.8-targComposite.json",
        "annotations/bodiesTargets/3.2.8-targIndependents.json"
      ]
    ],
    [
     {
      "$schema": "http://json-schema.org/draft-04/schema#",
      "assertionType": "may",
      "expectedResult": "valid",
      "onUnexpectedResult" : "passAndSkip",
      "errorMessage": "A Specific Resource may be used as an Annotation Body or Target (not found).",
      "title": "Implements **Specific Resource** as Body or Target (or item in Choice / Set Body or Target) with **_source_ and at least one of _purpose, selector, state, style, renderedVia, scope_ keys** as a body of the Annotation  [model 4](https://www.w3.org/TR/annotation-model/#specific-resources)",
      "description": "True when Annotation includes one or more Specific Resources as Annotation Body or Target. (Section 4)",
      "type": "object",      
      "anyOf":
      [
        { "$ref": "annotations/bodiesTargets/4-bodySpecificResource.json" },
        { "$ref": "annotations/bodiesTargets/4-targSpecificResource.json" }
      ]
     },
      "annotations/bodiesTargets/4-bodySpecificResource.json",
      "annotations/bodiesTargets/4-targSpecificResource.json",
      "annotations/specificResource/4.3.3-refinedBy.json",
      "annotations/specificResource/4.4-styleClass.json",
      "annotations/specificResource/4.5-renderedVia.json",
      "annotations/specificResource/4.6-scope.json",
      [ 
        {
           "assertionfile": "annotations/specificResource/4.2-selectorFound.json",
           "onUnexpectedResult" : "passAndSkip"                      
        },
        "annotations/specificResource/4.2.1-fragmentSelector.json",
        "annotations/specificResource/4.2.1-conformsTo.json",
        "annotations/specificResource/4.2.2-cssSelector.json",
        "annotations/specificResource/4.2.3-xpathSelector.json",
        "annotations/specificResource/4.2.4-textQuoteSelector.json",
        "annotations/specificResource/4.2.4-prefix.json",
        "annotations/specificResource/4.2.4-suffix.json",
        "annotations/specificResource/4.2.5-textPositionSelector.json",
        "annotations/specificResource/4.2.6-dataPositionSelector.json",
        "annotations/specificResource/4.2.7-svgSelector.json",
        "annotations/specificResource/4.2.8-rangeSelector.json"
      ],
      [
        {
           "assertionfile": "annotations/specificResource/4.3-stateFound.json",
           "onUnexpectedResult" : "passAndSkip"                      
        },
        "annotations/specificResource/4.3.1-timeState.json",
        "annotations/specificResource/4.3.2-requestHeaderState.json",
        "annotations/specificResource/4.3.1-cached.json"
      ]
    ]
  ]
}
